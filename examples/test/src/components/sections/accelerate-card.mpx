<template>
  <view class="accelerate-card-component intersectionRootNode" wx:if="{{list.length}}" v-exposure@web="exposure">
    <!-- <base-section title="{{title}}">
      <accelerate-card bindrefresh="shouldRefresh" bind:customerService="onCustomerService" wx:for="{{list}}" item="{{item}}" wx:key="index" />
      <view class="accelerate-card-tip">同一时间段内，仅能生效一张加速卡</view>
    </base-section> -->
    
  </view>
</template>

<script>
  import { createComponent } from '@mpxjs/core'
  import { trackAggregateEvent } from '../../common/js/Omega'
  import intersectionObserverMixin from '../../common/mixins/intersectionObserver'

  createComponent({
    mixins: [intersectionObserverMixin],
    data: {
      intersectionEventId: 'wyc_sdmarketing_accecard_sw' // 小程序模块出现在视口的埋点
    },
    properties: {
      info: {
        type: Object,
        value: {}
      }
    },
    computed: {
      title () {
        return this.info.head_title || ''
      },
      list () {
        return this.info.list || []
      }
    },
    methods: {
      exposure () {
        trackAggregateEvent('wyc_sdmarketing_accecard_sw')
      },
      shouldRefresh () {
        this.triggerEvent('refresh')
      },
      onCustomerService () {
        this.triggerEvent('customerService')
      }
    }
  })
</script>

<style lang="stylus">
  .accelerate-card-component
    margin-top 29px
    // padding 40px 14px 20px
    font-weight bold
    // background-color #fdedd5
    // border 2px solid #fdcb7d
    border-radius 10px
    .accelerate-card-tip
      color #b4593c
      margin-top 12px
      font-size 14px
      font-weight normal
</style>

<script type="application/json">
  {
    "component": true,
    "usingComponents": {
      "accelerate-card": "../cards/accelerate",
      "base-section": "./base"
    }
  }
</script>
