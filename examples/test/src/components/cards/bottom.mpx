<template>
  <view class="bottom-card-item intersectionRootNode" catchtap="onClick" v-exposure@web="exposure">
    <view class="bottom-card-item-left">
      <view class="bottom-card-item-title">{{item.title}}</view>
      <view class="bottom-card-item-desc">{{item.desc}}</view>
      <view class="bottom-card-item-href">{{item.bottom_desc}}</view>
    </view>
    <img wx:if="{{ __mpx_mode__ === 'web' }}" class="bottom-card-item-icon" src="{{item.img}}" />
    <image wx:else class="bottom-card-item-icon" src="{{item.img}}" />
  </view>
</template>

<script>
  import { createComponent } from '@mpxjs/core'
  import { trackAggregateEvent } from '../../common/js/Omega'
  import intersectionObserverMixin from '../../common/mixins/intersectionObserver'

  createComponent({
    mixins: [intersectionObserverMixin],
    data: {
      intersectionEventId: 'wyc_sdmarketing_sjj_sw' // 小程序模块出现在视口的埋点
    },
    properties: {
      item: {
        type: Object,
        value: {}
      }
    },
    methods: {
      onClick () {
        this.triggerEvent('clicked')
      },
      exposure () {
        trackAggregateEvent('wyc_sdmarketing_sjj_sw', {
          title: this.item.title
        })
      }
    },
    computed: {
      intersectionOmegaParams () {
        return {
          title: this.item.title
        }
      }
    }
  })
</script>

<style lang="stylus">
  .bottom-card-item
    background-color #fff
    margin-top 15px
    padding 20px
    border-radius 10px
    display flex
  .bottom-card-item-left
    flex 1
  .bottom-card-item-title
    font-weight bold
    font-size 17px
    color #323233
  .bottom-card-item-desc
    font-size 13px
    margin-top 7px
    color #7d7d80
  .bottom-card-item-href
    margin-top 11px
    font-size 13px
    font-weight bold
    color #ff6416
    position relative
    &:after
      content ''
      position absolute
      left 55px
      top 1px
      width 12px
      height 12px
      background-image url('../../assets/icon-check@3x.png')
      background-size cover
  .bottom-card-item-icon
    width 62px
    height 62px
</style>

<script type="application/json">
  {
    "component": true
  }
</script>
