<template>
  <base-popup
    title="赚钱攻略"
    type="no-texture"
    wx:ref="strategy"
    bind:emitBaseEvent="emitEvent"
    refKey="{{refKey}}"
  >
    <view class="activity-strategy-popup-content">
      <view class="activity-strategy-popup-formula">
        <view class=activity-strategy-popup-formula-item>{{info.title}}</view>
      </view>
      <view
        class="activity-strategy-popup-paragraph"
        wx:class="{{item.classname}}"
        wx:for="{{info.texts}}"
        wx:key="index"
      >{{item.text}}</view>
    </view>
    <view
      class="activity-strategy-popup-button"
      bindtap@wx="onClick" @click.stop@web="onClick">我知道了</view>
  </base-popup>
</template>

<script>
  import { createComponent } from '@mpxjs/core'
  import emitEvents from '../../../common/mixins/emitEvents'
  
  createComponent({
    properties: {
      info: {
        type: Object,
        value: {}
      }
    },
    mixins: [emitEvents],
    data: {
      refKey: 'strategyPopup'
    },
    methods: {
      onClick () {
        this.toggle()
      },
      toggle () {
        const popup = this.$refs.strategy
        popup && popup.toggle()
      }
    }
  })
</script>

<style lang="stylus">
  @import "../../../common/stylus/mixin.styl"
  .activity-strategy-popup-content
    position absolute
    top vw(228)
    left vw(62)
    right vw(62)
    bottom vw(178)
  .activity-strategy-popup-formula
    width 100%
    padding vw(16) 0
    margin-bottom vw(20)
    background-color #FFE7D1
    border-radius 6px
  .activity-strategy-popup-formula-item
    font-size 14px
    color #F53814
    font-weight bold
    line-height vw(38)
    text-align center
    padding 0 vw(32)
  .activity-strategy-popup-paragraph
    color #703419 
    font-size 12px
    line-height vw(38)
    &.highlight
      color #B96037
      font-size 12px
  .activity-strategy-popup-button
    width vw(530)
    height vw(104)
    line-height vw(104)
    font-size vw(40)
    font-weight bold
    color #943025
    text-align center
    position absolute
    left vw(46)
    bottom vw(62)
    background-image url('https://dpubstatic.udache.com/static/dpubimg/34b80f06-d556-48b5-91aa-0ca20e3d03ef.png')
    background-size cover
</style>

<script type="application/json">
  {
    "component": true,
    "usingComponents": {
      "base-popup": "./base"
    }
  }
</script>
