<template>
  <view class="participants-bar-component">
    <stacked-avatars list="{{ driverOverview.avatars }}" />
    <text class="participants-bar-content">已有<text class="participants-bar-participants-amount">{{amount}}</text>名司机预约</text>
  </view>
</template>

<script>
  import { createComponent } from '@mpxjs/core'

  createComponent({
    properties: {
      driverOverview: {
        type: Object,
        value: {}
      }
    },
    computed: {
      amount () {
        const amount = '' + this.driverOverview.total_cnt
        return amount.replace(/\d{1,3}(?=(\d{3})+$)/g, '$&,')
      }
    }
  })
</script>
<style lang="stylus">
  @import "../../../common/stylus/mixin.styl"
  .participants-bar-component
    display inline-flex
    align-items center
    background-color rgba(198,30,25,0.2)
    box-sizing border-box
    padding vw(8) vw(20)
    border-radius vw(24)
    font-size 0
    .participants-bar-content
      margin-left vw(5)
      font-size vw(22)
      color #ffbc55
    .participants-bar-participants-amount
      font-family dinum
      line-height vw(22)
      color #ffcc6c
</style>

<script type="application/json">
  {
    "component": true,
    "usingComponents": {
      "stacked-avatars": "../avatars/stacked"
    }
  }
</script>
